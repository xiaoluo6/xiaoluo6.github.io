<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>xiol个人博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="网站描述 java javascript">
<meta property="og:type" content="website">
<meta property="og:title" content="xiol个人博客">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="xiol个人博客">
<meta property="og:description" content="网站描述 java javascript">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Xiol">
<meta property="article:tag" content="java javascript">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="xiol个人博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">xiol个人博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-黑马可视化项目学习" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/10/22/%E9%BB%91%E9%A9%AC%E5%8F%AF%E8%A7%86%E5%8C%96%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/" class="article-date">
  <time datetime="2022-10-22T13:56:28.000Z" itemprop="datePublished">2022-10-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/22/%E9%BB%91%E9%A9%AC%E5%8F%AF%E8%A7%86%E5%8C%96%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/">黑马可视化项目学习笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="1-1-基础版"><a href="#1-1-基础版" class="headerlink" title="1.1 基础版"></a>1.1 基础版</h4><h5 id="1-1-1-Echarts快速上手"><a href="#1-1-1-Echarts快速上手" class="headerlink" title="1.1.1 Echarts快速上手"></a>1.1.1 Echarts快速上手</h5><ul>
<li>操作步骤<ol>
<li>引入echarts.js文件</li>
<li>准备一个呈现图表的盒子</li>
<li>初始化Echarts实例的对象</li>
<li>将配置项设置给Echarts实例对象</li>
</ol>
</li>
</ul>
<h5 id="1-1-2-柱状图快速实现"><a href="#1-1-2-柱状图快速实现" class="headerlink" title="1.1.2 柱状图快速实现"></a>1.1.2 柱状图快速实现</h5><ul>
<li>常见效果<ul>
<li>标记<ol>
<li>最大值、最小值<ul>
<li>markPoint   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 标记：最大值、最小值</span></span><br><span class="line">        <span class="attr">markPoint</span>: &#123;</span><br><span class="line">            <span class="attr">data</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">type</span>: <span class="string">&#x27;max&#x27;</span>,</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;最大值&#x27;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">type</span>: <span class="string">&#x27;min&#x27;</span>,</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;最小值&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;  </span><br><span class="line">]                </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>平均值<ul>
<li>markLine  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 标记平均值</span></span><br><span class="line">        <span class="attr">markLine</span>: &#123;</span><br><span class="line">            <span class="attr">data</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">type</span>: <span class="string">&#x27;average&#x27;</span>,</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;平均值&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;  </span><br><span class="line">]                    </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
</li>
<li>显示<ol>
<li>数值显示<ul>
<li>label   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 数值显示</span></span><br><span class="line">        <span class="attr">label</span>:&#123;</span><br><span class="line">            <span class="attr">show</span>: <span class="literal">true</span>, <span class="comment">// 数值显示</span></span><br><span class="line">            <span class="attr">rotate</span>: <span class="number">30</span>, <span class="comment">// 数值旋转角度</span></span><br><span class="line">            <span class="attr">position</span>: <span class="string">&#x27;inside&#x27;</span>, <span class="comment">// 数值显示位置，默认在柱子内部</span></span><br><span class="line">             </span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;  </span><br><span class="line">]                    </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>柱宽度<ul>
<li>barWidth   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 柱子宽度设置</span></span><br><span class="line">        <span class="attr">barWidth</span>: <span class="string">&#x27;30%&#x27;</span>,</span><br><span class="line">    &#125;  </span><br><span class="line">]                    </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>横向柱状图<ul>
<li>更改x轴y轴的角色</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
</ul>
<h5 id="1-1-3-通用配置讲解-–标题"><a href="#1-1-3-通用配置讲解-–标题" class="headerlink" title="1.1.3 通用配置讲解 –标题"></a>1.1.3 通用配置讲解 –标题</h5><ol>
<li>文字样式<ul>
<li>text 、 textStyle  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title</span>: &#123;</span><br><span class="line">    <span class="attr">text</span>: <span class="string">&#x27;成绩展示&#x27;</span>,</span><br><span class="line">    <span class="comment">// 文字样式</span></span><br><span class="line">    <span class="attr">textStyle</span>: &#123;</span><br><span class="line">        <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;                   </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>标题边框<ul>
<li>borderWidth、borderColor、 borderRadius  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title</span>: &#123;</span><br><span class="line">    <span class="comment">// 标题边框</span></span><br><span class="line">    <span class="attr">borderWidth</span>: <span class="number">5</span>, <span class="comment">// 标题边框宽度</span></span><br><span class="line">    <span class="attr">borderColor</span>: <span class="string">&#x27;blue&#x27;</span>, <span class="comment">// 标记边框颜色</span></span><br><span class="line">    <span class="attr">borderRadius</span>: <span class="number">5</span>, <span class="comment">// 标题边框圆角,</span></span><br><span class="line">&#125;                   </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>标题位置<ul>
<li>left、top  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title</span>: &#123;</span><br><span class="line">    <span class="comment">// 标题位置</span></span><br><span class="line">    <span class="attr">left</span>: <span class="number">50</span>,</span><br><span class="line">    <span class="attr">top</span>: <span class="number">10</span></span><br><span class="line">&#125;                   </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h5 id="1-1-4-通用配置讲解-–提示框"><a href="#1-1-4-通用配置讲解-–提示框" class="headerlink" title="1.1.4 通用配置讲解 –提示框"></a>1.1.4 通用配置讲解 –提示框</h5><p>tooltip:提示框组件，用于配置鼠标滑过或点击图表是的显示框</p>
<ol>
<li>触发类型：<ul>
<li>trigger<ul>
<li>item 移到柱子内部展示</li>
<li>axis 只要在x轴对应的刻度上，就显示数据<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tooltip</span>: &#123;</span><br><span class="line">    <span class="attr">trigger</span>: <span class="string">&#x27;item&#x27;</span> <span class="comment">// 触发类型  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li>触发时机<ul>
<li>triggerOn<ul>
<li>mouseover  鼠标移入时触发</li>
<li>click      鼠标点击时触发<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tooltip</span>: &#123;</span><br><span class="line">  <span class="attr">triggerOn</span>: <span class="string">&#x27;click&#x27;</span> <span class="comment">// 触发时机</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li>格式化：<ul>
<li>formatter<ul>
<li>字符串模板</li>
<li>回调函数<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tooltip</span>: &#123;</span><br><span class="line">  <span class="comment">// formatter: &#x27;&#123;b&#125;的成绩是&#123;c&#125;&#x27; , // 字符串模板</span></span><br><span class="line">  <span class="attr">formatter</span>: <span class="keyword">function</span> (<span class="params">arg</span>)&#123; <span class="comment">// 回调函数</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(arg)</span><br><span class="line">      <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;arg.name&#125;</span>的分数是：<span class="subst">$&#123;arg.data&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ol>
<h5 id="1-1-5-通用配置讲解-–工具栏"><a href="#1-1-5-通用配置讲解-–工具栏" class="headerlink" title="1.1.5 通用配置讲解 –工具栏"></a>1.1.5 通用配置讲解 –工具栏</h5><p>toolbox: Echarts提供的工具栏</p>
<ul>
<li>显示工具栏按钮 feature<ol>
<li>导出图片<ul>
<li>saveAsImage<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toolbox</span>: &#123;</span><br><span class="line">  <span class="attr">feature</span>: &#123;</span><br><span class="line">      <span class="attr">saveAsImage</span>: &#123;&#125; <span class="comment">// 导出图片           </span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>数据视图<ul>
<li>dataView<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toolbox</span>: &#123;</span><br><span class="line">  <span class="attr">feature</span>: &#123;</span><br><span class="line">      <span class="attr">dataView</span>: &#123;&#125; <span class="comment">// 数据视图              </span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>动态类型切换<ul>
<li>magicType<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toolbox</span>: &#123;</span><br><span class="line">  <span class="attr">feature</span>: &#123;</span><br><span class="line">      <span class="attr">magicType</span>: &#123;&#125; <span class="comment">// 动态类型切换                </span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>数据区域缩放<ul>
<li>dataZoom<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toolbox</span>: &#123;</span><br><span class="line">  <span class="attr">feature</span>: &#123;</span><br><span class="line">      <span class="attr">dataZoom</span>: &#123;&#125; <span class="comment">// 数据区域缩放</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>重置<ul>
<li>restore<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toolbox</span>: &#123;</span><br><span class="line">  <span class="attr">feature</span>: &#123;</span><br><span class="line">      <span class="attr">restore</span>: &#123;&#125; <span class="comment">// 重置</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
</li>
</ul>
<h5 id="1-1-6-通用配置讲解-–图例"><a href="#1-1-6-通用配置讲解-–图例" class="headerlink" title="1.1.6 通用配置讲解 –图例"></a>1.1.6 通用配置讲解 –图例</h5><p>legend: 图例，用于筛选系列，需要和series配合使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">legend</span>:&#123;</span><br><span class="line">    <span class="attr">data</span>: [<span class="string">&#x27;语文成绩&#x27;</span>, <span class="string">&#x27;数学成绩&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="1-1-7-折线图的快速实现及常见效果"><a href="#1-1-7-折线图的快速实现及常见效果" class="headerlink" title="1.1.7 折线图的快速实现及常见效果"></a>1.1.7 折线图的快速实现及常见效果</h5><ul>
<li>常见效果<ul>
<li>标记：<ul>
<li>最大值、最小值<ul>
<li>markPoint<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [&#123;     </span><br><span class="line">    <span class="comment">// 标记点最大值、最小值</span></span><br><span class="line">    <span class="attr">markPoint</span>:&#123;</span><br><span class="line">        <span class="attr">data</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;max&#x27;</span>,</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;最大值&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;min&#x27;</span>,</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;最小值&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>平均值<ul>
<li>markLine <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [&#123;     </span><br><span class="line">    <span class="comment">// 标记线：平均值</span></span><br><span class="line">    <span class="attr">markLine</span>: &#123;</span><br><span class="line">        <span class="attr">data</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;average&#x27;</span>,</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;平均值&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>标注区间<ul>
<li>markArea <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [&#123;     </span><br><span class="line">    <span class="comment">// 标记区域</span></span><br><span class="line">    markArea : &#123;</span><br><span class="line">       <span class="attr">data</span>: [</span><br><span class="line">           [</span><br><span class="line">               &#123;</span><br><span class="line">                   <span class="attr">xAxis</span>: <span class="string">&#x27;1月&#x27;</span>, <span class="comment">// 区域开始轴</span></span><br><span class="line">               &#125;,</span><br><span class="line">               &#123;</span><br><span class="line">                   <span class="attr">xAxis</span>: <span class="string">&#x27;5月&#x27;</span>, <span class="comment">// 区域结束轴</span></span><br><span class="line">               &#125;</span><br><span class="line">           ],</span><br><span class="line">           [</span><br><span class="line">               &#123;</span><br><span class="line">                   <span class="attr">xAxis</span>: <span class="string">&#x27;8月&#x27;</span>, <span class="comment">// 区域开始轴</span></span><br><span class="line">               &#125;,</span><br><span class="line">               &#123;</span><br><span class="line">                   <span class="attr">xAxis</span>: <span class="string">&#x27;10月&#x27;</span>, <span class="comment">// 区域结束轴</span></span><br><span class="line">               &#125;</span><br><span class="line">           ]</span><br><span class="line">       ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li>线条控制：<ul>
<li>平滑<ul>
<li>smooth <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [&#123;     </span><br><span class="line">   <span class="attr">smooth</span>: <span class="literal">true</span>, <span class="comment">// 线条平滑 </span></span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>风格<ul>
<li>lineStyle <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [&#123;     </span><br><span class="line">     <span class="comment">// 线条风格</span></span><br><span class="line">    <span class="attr">lineStyle</span>: &#123;</span><br><span class="line">        <span class="attr">color</span>: <span class="string">&#x27;blue&#x27;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;dashed&#x27;</span>, <span class="comment">// 线条的样式： dashed: 虚线 dotted：点线 solid：实线</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li>填充风格：<ul>
<li>areaStyle   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [&#123;     </span><br><span class="line">    <span class="comment">// 区域风格：填充风格</span></span><br><span class="line">    <span class="attr">areaStyle</span>:&#123;</span><br><span class="line">        <span class="attr">color</span>: <span class="string">&#x27;orange&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>紧挨边缘：横坐标起点与0点重合<ul>
<li>boundaryGap   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="attr">xAxis</span>:&#123;</span><br><span class="line">     <span class="attr">boundaryGap</span>: <span class="literal">false</span>  <span class="comment">// false为不要间隔</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>缩放：脱离0值比例  ：当数据远离0值，且相差不大时使用<ul>
<li>scale   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">yAxis</span>: &#123;</span><br><span class="line">    <span class="attr">scale</span>: <span class="literal">true</span> <span class="comment">// 缩放：脱离0值比例  ：当数据远离0值，且相差不大时使用</span></span><br><span class="line">             </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>堆叠图：<ul>
<li>stack   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">stack</span>: <span class="string">&#x27;all&#x27;</span>, <span class="comment">// 堆叠图 series每一项stack值内容保持一致</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">stack</span>: <span class="string">&#x27;all&#x27;</span>, <span class="comment">// 堆叠图</span></span><br><span class="line">            &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="1-1-8-散点图的快速实现及常见效果"><a href="#1-1-8-散点图的快速实现及常见效果" class="headerlink" title="1.1.8 散点图的快速实现及常见效果"></a>1.1.8 散点图的快速实现及常见效果</h5><ul>
<li>常见效果<ul>
<li>气泡效果：<ul>
<li>散点的大小不同<ul>
<li>symbolSize  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>:[</span><br><span class="line">          &#123;</span><br><span class="line">              <span class="comment">// 设置散点的大小  可以是数值，可以是回调函数</span></span><br><span class="line">              <span class="comment">// symbolSize: 30,  // 数值</span></span><br><span class="line">              <span class="attr">symbolSize</span>: <span class="keyword">function</span> (<span class="params">arg</span>) &#123;</span><br><span class="line">                  <span class="keyword">const</span> height = arg[<span class="number">0</span>] / <span class="number">100</span>; <span class="comment">// 米</span></span><br><span class="line">                  <span class="keyword">const</span> weight = arg[<span class="number">1</span>]; <span class="comment">//kg</span></span><br><span class="line">                  <span class="keyword">const</span> bmi = weight / (height * height);</span><br><span class="line">                  <span class="keyword">return</span> bmi &gt; <span class="number">28</span> ? <span class="number">20</span> : <span class="number">5</span></span><br><span class="line">              &#125;                        </span><br><span class="line">          &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>散点的颜色不同<ul>
<li>itemStyle.color  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>:[</span><br><span class="line">          &#123;</span><br><span class="line">              <span class="comment">// 设置散点的颜色</span></span><br><span class="line">              <span class="attr">itemStyle</span>: &#123;</span><br><span class="line">                  <span class="comment">// 颜色可以是值，也可以是回调函数</span></span><br><span class="line">                  <span class="comment">// color: &#x27;red&#x27;, // 值</span></span><br><span class="line">                  <span class="attr">color</span>: <span class="keyword">function</span> (<span class="params">arg</span>) &#123;</span><br><span class="line">                      <span class="keyword">const</span> height = arg.<span class="property">data</span>[<span class="number">0</span>] / <span class="number">100</span>; <span class="comment">// 米</span></span><br><span class="line">                      <span class="keyword">const</span> weight = arg.<span class="property">data</span>[<span class="number">1</span>]; <span class="comment">//kg</span></span><br><span class="line">                      <span class="keyword">const</span> bmi = weight / (height * height);</span><br><span class="line">                      <span class="keyword">return</span> bmi &gt; <span class="number">28</span> ? <span class="string">&#x27;red&#x27;</span> : <span class="string">&#x27;green&#x27;</span></span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;                    </span><br><span class="line">          &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li>涟漪动画效果<ul>
<li>type:effectScatter</li>
<li>showEffectOn: ‘emphasis’,</li>
<li>rippleEffect:{}<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>:[</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;effectScatter&#x27;</span>, <span class="comment">// 散点图涟漪效果</span></span><br><span class="line">                <span class="attr">rippleEffect</span>:&#123;</span><br><span class="line">                    <span class="attr">scale</span>: <span class="number">10</span> <span class="comment">// 展示圆圈的大小</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">showEffectOn</span>: <span class="string">&#x27;emphasis&#x27;</span>, <span class="comment">// 展示涟漪效果时机 emphasis： 接触时渲染 render： 更新就是就渲染</span></span><br><span class="line">            &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="1-1-9-直角坐标系的常用配置"><a href="#1-1-9-直角坐标系的常用配置" class="headerlink" title="1.1.9 直角坐标系的常用配置"></a>1.1.9 直角坐标系的常用配置</h5><ol>
<li>直角坐标系图表<ol>
<li>柱状图</li>
<li>折线图</li>
<li>散点图</li>
</ol>
</li>
<li>相关常用配置<ol>
<li>网格：<ul>
<li>grid<ul>
<li>显示 show</li>
<li>边框 borderWidth、borderColor</li>
<li>位置 left、top、right、bottom</li>
<li>大小 width、height  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 网格配置</span></span><br><span class="line"><span class="attr">grid</span>: &#123;</span><br><span class="line"><span class="attr">show</span>: <span class="literal">true</span>, <span class="comment">// 展示网格</span></span><br><span class="line"><span class="attr">borderWidth</span>: <span class="number">10</span>, <span class="comment">// 边框宽度</span></span><br><span class="line"><span class="attr">borderColor</span>: <span class="string">&#x27;red&#x27;</span>, <span class="comment">// 边框颜色</span></span><br><span class="line"><span class="attr">left</span>: <span class="number">120</span>, <span class="comment">// 网格定位：左</span></span><br><span class="line"><span class="attr">top</span>: <span class="number">120</span>, <span class="comment">// 网格定位:上</span></span><br><span class="line"><span class="attr">width</span>: <span class="number">300</span>, <span class="comment">//网格宽度</span></span><br><span class="line"><span class="attr">height</span>: <span class="number">150</span> <span class="comment">// 网格高度</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li>坐标轴：<ul>
<li>axis<ul>
<li>类型 type<ul>
<li>value: 数值轴，自动会从目标数据中读取数据</li>
<li>category： 类目轴，该类型必须通过data设置类目数据</li>
</ul>
</li>
<li>显示位置 position<ul>
<li>xAxis: 可取 top、bottom</li>
<li>yaxis: 可取 left、right  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">xAxis</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;category&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: xData,</span><br><span class="line">    <span class="attr">position</span>: <span class="string">&#x27;top&#x27;</span> <span class="comment">// x轴显示到上方</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">yAxis</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span>,</span><br><span class="line">    <span class="attr">position</span>: <span class="string">&#x27;right&#x27;</span> <span class="comment">// y轴显示到右方</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>区域缩放<ul>
<li>dataZoom<ul>
<li>类型 type<ul>
<li>slider 滑块</li>
<li>inside 内置，通过鼠标滑轮或双指缩放</li>
</ul>
</li>
<li>指明产生的作用轴<ul>
<li>xAxisIndex: 设置缩放组件控制哪一个x轴，从0开始</li>
<li>yAxisIndex: 设置缩放组件控制哪一个y轴，从0开始</li>
</ul>
</li>
<li>指明初始化状态的缩放情况<ul>
<li>start：起始百分比</li>
<li>end： 结束百分比  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dataZoom</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">          <span class="attr">type</span>: <span class="string">&#x27;slider&#x27;</span>, <span class="comment">// 缩放类型 slider 滑块， inside 内置，通过鼠标滑轮或双指缩放</span></span><br><span class="line">          <span class="attr">xAxisIndex</span>: <span class="number">0</span>, <span class="comment">// 设置缩放组件控制哪一个x轴，从0开始</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">          <span class="attr">type</span>: <span class="string">&#x27;slider&#x27;</span>,</span><br><span class="line">          <span class="attr">yAxisIndex</span>: <span class="number">0</span>, <span class="comment">//设置缩放组件控制哪一个y轴，从0开始</span></span><br><span class="line">          <span class="attr">start</span>: <span class="number">0</span>, <span class="comment">// 起始开始缩放百分比</span></span><br><span class="line">          <span class="attr">end</span>: <span class="number">80</span> <span class="comment">// 起始结束缩放百分比</span></span><br><span class="line">      &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
</ol>
<h5 id="1-1-10-饼图的快速实现及常见效果"><a href="#1-1-10-饼图的快速实现及常见效果" class="headerlink" title="1.1.10 饼图的快速实现及常见效果"></a>1.1.10 饼图的快速实现及常见效果</h5><ol>
<li>饼图的常见效果<ol>
<li>显示数值<ul>
<li>label.formatter   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="attr">series</span>: [</span><br><span class="line">     &#123;</span><br><span class="line">         <span class="comment">// 设置饼图文字显示</span></span><br><span class="line">         <span class="attr">label</span>:&#123;</span><br><span class="line">             <span class="attr">show</span>: <span class="literal">true</span>, <span class="comment">// 设置为显示</span></span><br><span class="line">             <span class="comment">// formatter: &#x27;haha&#x27;, // 显示文字可以为字符串，也可以为回调函数</span></span><br><span class="line">             <span class="attr">formatter</span>: <span class="keyword">function</span> (<span class="params">arg</span>) &#123;</span><br><span class="line">                 <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;arg.data.name&#125;</span><span class="subst">$&#123;arg.data.value&#125;</span> \n  <span class="subst">$&#123;arg.percent&#125;</span>%`</span></span><br><span class="line">             &#125;,</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>设置半径和圆环<ul>
<li>radius  可设置数值、字符串百分比、字符串数组(圆环)   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="attr">series</span>: [</span><br><span class="line">     &#123;</span><br><span class="line">         <span class="comment">// 设置饼图半径</span></span><br><span class="line">         <span class="comment">// radius: 20, // 数值</span></span><br><span class="line">         <span class="comment">// radius: &#x27;20%&#x27;, // 百分比   &#x27;20%&#x27;,</span></span><br><span class="line">         <span class="comment">// radius: [&#x27;50%&#x27;, &#x27;70%&#x27;], // 数组：为圆环： 内圆半径、外圆半径                   </span></span><br><span class="line">     &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>南丁格尔图<ul>
<li>roseType: ‘radius’   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="attr">series</span>: [</span><br><span class="line">     &#123;</span><br><span class="line">         <span class="attr">roseType</span>: <span class="string">&#x27;radius&#x27;</span>, <span class="comment">// 南丁格尔图，每个区域半径不同</span></span><br><span class="line">     &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>选中效果(点击)<ul>
<li>选中模式<ul>
<li> selectedMode: single、multiple</li>
</ul>
</li>
<li>选中偏移量<ul>
<li>selectedOffset  设置数值  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="attr">series</span>: [</span><br><span class="line">     &#123;                     </span><br><span class="line">         <span class="comment">// 设置选中效果</span></span><br><span class="line">         <span class="attr">selectedMode</span>: <span class="string">&#x27;single&#x27;</span>, <span class="comment">// single:选中区域偏离原点一小段距离, multiple多个区域偏离原点</span></span><br><span class="line">         <span class="attr">selectedOffset</span>: <span class="number">30</span> <span class="comment">// 偏离原点长度</span></span><br><span class="line">     &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
</ol>
<h5 id="1-1-11-地图的快速实现及常见效果"><a href="#1-1-11-地图的快速实现及常见效果" class="headerlink" title="1.1.11 地图的快速实现及常见效果"></a>1.1.11 地图的快速实现及常见效果</h5><ol>
<li>矢量地图的实现步骤<ol>
<li>Echarts最基本的代码结构<ul>
<li>引入js文件，创建DOM容器、初始化对象、设置 option</li>
</ul>
</li>
<li>准备中国的矢量地图json文件，放到json/map/目录下<ul>
<li>china.json</li>
</ul>
</li>
<li>使用Ajax获取china.json<ul>
<li>$.get(‘json/map/china.json’, function(chinaJson){})</li>
</ul>
</li>
<li>在回调函数中往echarts全局对象注册地图JSON数据<ul>
<li>echarts.registerMap(‘chinaMap’, chinaJson);</li>
</ul>
</li>
<li>设置geo<ul>
<li>type: ‘map’,</li>
<li>map: ‘chinaMap’</li>
</ul>
</li>
</ol>
</li>
<li>常用设置<ol>
<li>设置允许缩放及拖动效果<ul>
<li>roam</li>
</ul>
</li>
<li>显示标签文字<ul>
<li>label.show</li>
</ul>
</li>
<li>初始化缩放比例<ul>
<li>zoom</li>
</ul>
</li>
<li>设置显示中心点<ul>
<li>center<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">geo</span>:&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;map&#x27;</span>,</span><br><span class="line">    <span class="attr">map</span>: <span class="string">&#x27;chinaMap&#x27;</span>, <span class="comment">// 为注册的地图key</span></span><br><span class="line">    <span class="attr">roam</span>: <span class="literal">true</span>, <span class="comment">// 设置允许缩放及拖动效果</span></span><br><span class="line">    <span class="attr">label</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span> <span class="comment">// 显示标签文字</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">zoom</span>: <span class="number">1.2</span>, <span class="comment">//初始化缩放比例</span></span><br><span class="line">    <span class="attr">center</span>: [<span class="number">87.617733</span>, <span class="number">43.792818</span>] <span class="comment">// 设置显示中心点</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
</li>
<li>常见效果<ol>
<li>不同的城市展示不同的颜色<ul>
<li>实现步骤<ol>
<li>显示基本的中国地图</li>
<li>城市的空气质量数据设置给series</li>
<li>将series下的数据和geo关联起来</li>
<li>结合visualMap配合使用 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;map&#x27;</span>, <span class="comment">// 指定地图类型</span></span><br><span class="line">        <span class="attr">geoIndex</span>: <span class="number">0</span>,  <span class="comment">// 指定与第0个geo配置关联在一起</span></span><br><span class="line">        <span class="attr">data</span>: airData, <span class="comment">// 数据</span></span><br><span class="line">    &#125;</span><br><span class="line">],</span><br><span class="line"><span class="comment">// 设置可视化地图</span></span><br><span class="line"><span class="attr">visualMap</span>: &#123;</span><br><span class="line">    <span class="attr">min</span>: <span class="number">0</span>, <span class="comment">// 最小值</span></span><br><span class="line">    <span class="attr">max</span>: <span class="number">300</span>, <span class="comment">// 最大值</span></span><br><span class="line">    <span class="comment">// 控制颜色渐变的范围</span></span><br><span class="line">    <span class="attr">inRange</span>: &#123;</span><br><span class="line">       <span class="attr">color</span>: [<span class="string">&#x27;white&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>], <span class="comment">// 颜色渐变</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">calculable</span>: <span class="literal">true</span> <span class="comment">// 配置可筛选，出现滑块</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
</li>
<li>地图与散点图结合<ul>
<li>实现步骤<ol>
<li>给series下增加新的对象</li>
<li>配置新的对象type<ul>
<li>type: effectScatter // 涟漪图</li>
</ul>
</li>
<li>准备好散点数据，设置给新的对象的data</li>
<li>让散点图使用地图坐标系统<ul>
<li>coordinateSystem: ‘geo’</li>
</ul>
</li>
<li>让涟漪的效果更加明显<ul>
<li>rippleEffect: { scale: 10}<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  <span class="attr">series</span>: [        </span><br><span class="line">      <span class="comment">// 添加散点图数据</span></span><br><span class="line">      &#123;</span><br><span class="line">          <span class="attr">type</span>: <span class="string">&#x27;effectScatter&#x27;</span>, <span class="comment">//涟漪效果</span></span><br><span class="line">          <span class="attr">data</span>: scatterData, <span class="comment">// 配置散点数据数据</span></span><br><span class="line">          <span class="attr">coordinateSystem</span>: <span class="string">&#x27;geo&#x27;</span>, <span class="comment">// 指明散点使用geo坐标系统</span></span><br><span class="line">          <span class="attr">rippleEffect</span>: &#123;</span><br><span class="line">              <span class="attr">scale</span>: <span class="number">10</span>, <span class="comment">// 设置涟漪效果缩放比例</span></span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
</ol>
</li>
</ol>
<h5 id="1-1-12-雷达图的快速实现及常用配置"><a href="#1-1-12-雷达图的快速实现及常用配置" class="headerlink" title="1.1.12 雷达图的快速实现及常用配置"></a>1.1.12 雷达图的快速实现及常用配置</h5><ol>
<li>实现步骤<ol>
<li>Echarts最基本的代码结构</li>
<li>定义各个维度的最大值，通过radar属性配置<ul>
<li>易用性、功能、拍照、跑分、续航，每个维度最大值设置为100</li>
</ul>
</li>
<li>准备产品数据：设置给series下的data<ul>
<li>华为手机1： 80, 90, 80, 82, 90</li>
<li>中兴手机1： 70, 82, 75, 70, 78</li>
</ul>
</li>
<li>将type值设置为radar <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dataMax = [</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;易用性&#x27;</span>, <span class="attr">value</span>: <span class="number">100</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;功能&#x27;</span>, <span class="attr">value</span>: <span class="number">100</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;拍照&#x27;</span>, <span class="attr">value</span>: <span class="number">100</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;跑分&#x27;</span>, <span class="attr">value</span>: <span class="number">100</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;续航&#x27;</span>, <span class="attr">value</span>: <span class="number">100</span>&#125;</span><br><span class="line">];</span><br><span class="line"><span class="keyword">const</span> hwData = [<span class="number">80</span>, <span class="number">90</span>, <span class="number">80</span>, <span class="number">82</span>, <span class="number">90</span>];</span><br><span class="line"><span class="keyword">const</span> zxData = [<span class="number">70</span>, <span class="number">82</span>, <span class="number">75</span>, <span class="number">70</span>, <span class="number">78</span>];</span><br><span class="line"><span class="comment">// 2、设置配置项</span></span><br><span class="line"><span class="keyword">const</span> option = &#123;</span><br><span class="line">    <span class="attr">radar</span>: &#123;</span><br><span class="line">        <span class="attr">indicator</span>: dataMax,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">series</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">type</span>: <span class="string">&#x27;radar&#x27;</span>,</span><br><span class="line">          <span class="attr">data</span>: [</span><br><span class="line">              &#123;</span><br><span class="line">                  <span class="attr">name</span>: <span class="string">&#x27;华为手机1&#x27;</span>,</span><br><span class="line">                  <span class="attr">value</span>: hwData</span><br><span class="line">              &#125;,</span><br><span class="line">              &#123;</span><br><span class="line">                  <span class="attr">name</span>: <span class="string">&#x27;中兴手机1&#x27;</span>,</span><br><span class="line">                  <span class="attr">value</span>: zxData</span><br><span class="line">              &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li>常见配置<ol>
<li>显示数值：label<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;radar&#x27;</span>, <span class="comment">// radar 雷达图</span></span><br><span class="line">      <span class="attr">label</span>: &#123; <span class="comment">// 标签设置</span></span><br><span class="line">          <span class="attr">show</span>: <span class="literal">true</span>, <span class="comment">// 显示标签数值</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
<li>区域面积： areaStyle<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">// 显示区域</span></span><br><span class="line">      <span class="attr">areaStyle</span>:&#123;&#125;,  <span class="comment">// 将每个雷达图形成阴影面积                </span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
<li>绘制类型： shape <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">radar</span>: &#123;</span><br><span class="line">    <span class="attr">indicator</span>: dataMax, <span class="comment">// 指示器:设置每个维度的最大值</span></span><br><span class="line">    <span class="attr">shape</span>: <span class="string">&#x27;circle&#x27;</span><span class="comment">// 配置雷达图最外层的图形。 circle:圆 polygon:多边形</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h5 id="1-1-13-仪表盘的快速实现及常见效果"><a href="#1-1-13-仪表盘的快速实现及常见效果" class="headerlink" title="1.1.13 仪表盘的快速实现及常见效果"></a>1.1.13 仪表盘的快速实现及常见效果</h5><ol>
<li>实现步骤<ol>
<li>Echarts最基础的代码结构<ul>
<li>引入js文件、DOM容器、初始化对象、设置option</li>
</ul>
</li>
<li>准备数据，设置给series下的data<ul>
<li>data: [{value: 97}]</li>
</ul>
</li>
<li>设置图表类型<ul>
<li>在series下设置type: gauge  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="attr">series</span>: [</span><br><span class="line">     &#123;</span><br><span class="line">         <span class="attr">type</span>:<span class="string">&#x27;gauge&#x27;</span>, <span class="comment">// 仪表盘,</span></span><br><span class="line">         <span class="attr">data</span>: [</span><br><span class="line">             &#123;<span class="attr">value</span>: <span class="number">97</span>&#125;, <span class="comment">// 每一个对象代码一个指针</span></span><br><span class="line">         ]</span><br><span class="line">     &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
</li>
<li>常见配置<ol>
<li>数值范围 min、max<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">min</span>: <span class="number">50</span>, <span class="comment">// 设置最小值</span></span><br><span class="line">        <span class="attr">max</span>: <span class="number">99</span>, <span class="comment">// 设置仪表盘最大值</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
<li>配置多个指针： 增加data中的数组元素 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">data</span>: [</span><br><span class="line">            &#123;<span class="attr">value</span>: <span class="number">97</span>&#125;, <span class="comment">// 每一个对象代码一个指针</span></span><br><span class="line">            &#123;<span class="attr">value</span>: <span class="number">85</span>&#125;, <span class="comment">// 第二个指针</span></span><br><span class="line">        ],            </span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
<li>多个指针颜色差异: itemStyle <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">data</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">value</span>: <span class="number">85</span>,</span><br><span class="line">                <span class="attr">itemStyle</span>: &#123; <span class="comment">// 设置指针的样式</span></span><br><span class="line">                    <span class="attr">color</span>: <span class="string">&#x27;green&#x27;</span>, <span class="comment">//指针的颜色</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="comment">// 指针</span></span><br><span class="line">        ]                </span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h5 id="1-1-14-Echarts常见图表及其常见配置总结"><a href="#1-1-14-Echarts常见图表及其常见配置总结" class="headerlink" title="1.1.14 Echarts常见图表及其常见配置总结"></a>1.1.14 Echarts常见图表及其常见配置总结</h5><p><img src="../images/01_Echarts%E5%B8%B8%E8%A7%81%E5%9B%BE%E8%A1%A8%E5%8F%8A%E5%85%B6%E5%B8%B8%E8%A7%81%E9%85%8D%E7%BD%AE%E6%80%BB%E7%BB%93.png" alt="img.png"></p>
<h4 id="1-2-Echarts的高级使用"><a href="#1-2-Echarts的高级使用" class="headerlink" title="1.2 Echarts的高级使用"></a>1.2 Echarts的高级使用</h4><h5 id="1-2-1-显示相关"><a href="#1-2-1-显示相关" class="headerlink" title="1.2.1 显示相关"></a>1.2.1 显示相关</h5><ol>
<li>主题<ol>
<li>内置主题<ul>
<li>Echarts中默认了两套主题：light、dark</li>
<li>在初始化对象方法init中可以指明<ul>
<li>const chart = echarts.init(domObj, ‘light’);</li>
<li>const chart = echarts.init(domObj, ‘light’);  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// init方法有两个参数，第一个参数代表是一个DOM节点，第二个参数代表你需要使用那一套主题</span></span><br><span class="line"><span class="keyword">const</span> myCharts = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>), <span class="string">&#x27;dark&#x27;</span>); <span class="comment">// 使用内置主题 light、dark</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li>自定义主题</li>
</ol>
<ul>
<li>使用步骤<ol>
<li>在主题编辑器中编辑主题<ul>
<li><a target="_blank" rel="noopener" href="https://www.echartsjs.com/theme-builder/">https://www.echartsjs.com/theme-builder/</a></li>
</ul>
</li>
<li>下载主题，是一个js文件</li>
<li>引入主题js文件</li>
<li>在init方法中使用主题 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 1、初始化Echarts实例的对象</span></span><br><span class="line"><span class="keyword">const</span> myCharts = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>), <span class="string">&#x27;itcast&#x27;</span>); <span class="comment">// 使用自定义主题 itcast</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
</li>
<li>调色盘: 遵循就近原则<ol>
<li>主题调色盘</li>
<li>全局调色盘<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">color</span>: [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;skyblue&#x27;</span>, <span class="string">&#x27;purple&#x27;</span>] <span class="comment">// 全局调色盘</span></span><br></pre></td></tr></table></figure></li>
<li>局部调色盘 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">series</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">color</span>: [<span class="string">&#x27;pink&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;black&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>, <span class="string">&#x27;red&#x27;</span>],</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
<li>颜色渐变<ol>
<li>线性渐变 linear<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> <span class="attr">series</span>:[</span><br><span class="line">     &#123;</span><br><span class="line">         <span class="attr">itemStyle</span>: &#123;</span><br><span class="line">             <span class="attr">color</span>: &#123;</span><br><span class="line">                 <span class="attr">type</span>: <span class="string">&#x27;linear&#x27;</span>, <span class="comment">// 线性渐变</span></span><br><span class="line">                 <span class="attr">x</span>: <span class="number">0</span>,</span><br><span class="line">                 <span class="attr">y</span>: <span class="number">0</span>,</span><br><span class="line">                 <span class="attr">x2</span>: <span class="number">0</span>,</span><br><span class="line">                 <span class="attr">y2</span>: <span class="number">1</span>, <span class="comment">// 纵坐标下为正数</span></span><br><span class="line">                 <span class="attr">colorStops</span>: [ <span class="comment">// 设置颜色数组</span></span><br><span class="line">                     &#123;</span><br><span class="line">                         <span class="attr">offset</span>: <span class="number">0</span>, <span class="comment">// 0%处的颜色</span></span><br><span class="line">                         <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">                     &#125;,</span><br><span class="line">                     &#123;</span><br><span class="line">                         <span class="attr">offset</span>: <span class="number">1</span>, <span class="comment">// 100%处的颜色</span></span><br><span class="line">                         <span class="attr">color</span>: <span class="string">&#x27;blue&#x27;</span></span><br><span class="line">                     &#125;</span><br><span class="line">                 ]</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
<li>径向渐变 radial <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> <span class="attr">series</span>:[</span><br><span class="line">     &#123;</span><br><span class="line">         <span class="attr">itemStyle</span>: &#123;                 </span><br><span class="line">             <span class="attr">color</span>: &#123;</span><br><span class="line">                 <span class="attr">type</span>: <span class="string">&#x27;radial&#x27;</span>, <span class="comment">// 径向渐变</span></span><br><span class="line">                 <span class="attr">x</span>: <span class="number">0.5</span>,</span><br><span class="line">                 <span class="attr">y</span>: <span class="number">0.5</span>,</span><br><span class="line">                 <span class="attr">r</span>: <span class="number">0.5</span>, <span class="comment">//半径</span></span><br><span class="line">                 <span class="attr">colorStops</span>: [ <span class="comment">// 设置颜色数组</span></span><br><span class="line">                     &#123;</span><br><span class="line">                         <span class="attr">offset</span>: <span class="number">0</span>, <span class="comment">// 0%处的颜色</span></span><br><span class="line">                         <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">                     &#125;,</span><br><span class="line">                     &#123;</span><br><span class="line">                         <span class="attr">offset</span>: <span class="number">1</span>, <span class="comment">// 100%处的颜色</span></span><br><span class="line">                         <span class="attr">color</span>: <span class="string">&#x27;blue&#x27;</span></span><br><span class="line">                     &#125;</span><br><span class="line">                 ]</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</li>
<li>样式<ol>
<li>直接样式<ul>
<li>itemStyle、textStyle、lineStyle、areaStyle、label</li>
</ul>
</li>
<li>高亮样式<ul>
<li>在emphasis中包裹itemStyle、textStyle、lineStyle、areaStyle、label  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、初始化Echarts实例的对象</span></span><br><span class="line"><span class="keyword">const</span> myCharts = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>));</span><br><span class="line"><span class="comment">// 设置饼图数据</span></span><br><span class="line"><span class="keyword">const</span> pieData = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;淘宝&#x27;</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="number">11231</span>,</span><br><span class="line">        <span class="attr">itemStyle</span>: &#123; <span class="comment">// 淘宝颜色设置为黄色</span></span><br><span class="line">            <span class="attr">color</span>: <span class="string">&#x27;yellow&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">label</span>: &#123;</span><br><span class="line">            <span class="attr">color</span>: <span class="string">&#x27;green&#x27;</span>, <span class="comment">// 文字颜色设置为绿色</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 高亮时的效果</span></span><br><span class="line">        <span class="attr">emphasis</span>:&#123;</span><br><span class="line">            <span class="attr">itemStyle</span>: &#123; <span class="comment">// 控制淘宝区域的高亮时的样式</span></span><br><span class="line">                <span class="attr">color</span>: <span class="string">&#x27;pink&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">label</span>: &#123;</span><br><span class="line">                <span class="attr">color</span>: <span class="string">&#x27;black&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;京东&#x27;</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="number">22673</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;唯品会&#x27;</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="number">6123</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;1号店&#x27;</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="number">8989</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;聚美优选&#x27;</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="number">6780</span></span><br><span class="line">    &#125;</span><br><span class="line">];</span><br><span class="line"><span class="comment">// 2、设置配置项</span></span><br><span class="line"><span class="keyword">const</span> option = &#123;</span><br><span class="line">    <span class="attr">title</span>:&#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;饼图的测试&#x27;</span>,</span><br><span class="line">        <span class="attr">textStyle</span>: &#123; <span class="comment">// 控制标题的文字的样式</span></span><br><span class="line">            <span class="attr">color</span>: <span class="string">&#x27;blue&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">series</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;pie&#x27;</span>,</span><br><span class="line">            <span class="attr">data</span>: pieData</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 3、将配置项设置给Echarts实例对象</span></span><br><span class="line">myCharts.<span class="title function_">setOption</span>(option);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
</li>
<li>自适应<ul>
<li>实现步骤<ol>
<li>监听窗口大小变化事件</li>
<li>在事件处理函数中调用ECharts实例对象的resize即可<ul>
<li>window.onresize = function(){ myChart.resize();}</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
</ol>
<h5 id="1-2-2-动画的使用"><a href="#1-2-2-动画的使用" class="headerlink" title="1.2.2 动画的使用"></a>1.2.2 动画的使用</h5><ol>
<li>加载动画<ol>
<li>显示加载动画<ul>
<li>myCharts.showLoading()</li>
</ul>
</li>
<li>隐藏加载动画<ul>
<li>myCharts.hideLoading()</li>
</ul>
</li>
</ol>
</li>
<li>增量动画<ol>
<li>增量动画的实现方式<ul>
<li>myCharts.setOption(newOption)</li>
<li>注意： 新旧option是相互整合的关系，设置新的option，只需考虑增量部分</li>
</ul>
</li>
</ol>
</li>
<li>动画的配置<ol>
<li>开启动画 —— 默认开启，可以不设置<ul>
<li>animation: true</li>
</ul>
</li>
<li>动画时长<ul>
<li>animationDuration: 5000  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// animationDuration: 5000, // 单位：毫秒</span></span><br><span class="line"><span class="attr">animationDuration</span>: <span class="keyword">function</span> (<span class="params">arg</span>)&#123;</span><br><span class="line">    <span class="comment">// 参数为每种配置项的索引值</span></span><br><span class="line">    <span class="comment">// ①平均值索引 0</span></span><br><span class="line">    <span class="comment">// ②最值索引 0 1</span></span><br><span class="line">    <span class="comment">// ③x轴索引  0 1 2 3 4 5 6 7</span></span><br><span class="line">    <span class="comment">//  通过索引值*延时秒数，即可设置不同类型的</span></span><br><span class="line">    <span class="keyword">return</span> arg * <span class="number">2000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>缓动动画<ul>
<li>animationEasing: ‘linear’, // 线性渲染</li>
</ul>
</li>
<li>动画阈值<ul>
<li>animationThreshold: 8</li>
</ul>
</li>
</ol>
</li>
</ol>
<h5 id="1-2-3-交互API"><a href="#1-2-3-交互API" class="headerlink" title="1.2.3 交互API"></a>1.2.3 交互API</h5><ol>
<li><p>全局echarts对象</p>
<ol>
<li>init<ul>
<li>初始化Echarts实例对象</li>
<li>使用主题</li>
</ul>
</li>
<li>registerTheme<ul>
<li>注册主题</li>
<li>注意：只有注册过的主题，才能在init方法中使用该主题</li>
</ul>
</li>
<li>registerMap<ul>
<li>注册地图数据   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">get</span>(<span class="string">&#x27;json/map/chaina.json&#x27;</span>, <span class="keyword">function</span>(<span class="params">chinaJson</span>) &#123;</span><br><span class="line">  echarts.<span class="title function_">registerMap</span>(<span class="string">&#x27;china&#x27;</span>, chainaJson);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li>geo组件使用地图数据   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> option = &#123;</span><br><span class="line">    <span class="attr">geo</span>: &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;map&#x27;</span>,</span><br><span class="line">        <span class="attr">map</span>: <span class="string">&#x27;china&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>connect<ul>
<li>实现多图关联：<ul>
<li>echarts.connect([myCharts, myCharts2]);</li>
<li>保存图片的时候自动拼接</li>
<li>刷新按钮</li>
<li>重置按钮</li>
<li>提示框联动、图例选择、数据范围修改等</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li><p>echartsInstance对象</p>
<ol>
<li><p>setOption</p>
<ul>
<li>设置获取修改图表实例的配置项以及数据</li>
<li>多次调用setOption方法<ul>
<li>合并新的配置和旧的配置</li>
<li>增量动画</li>
</ul>
</li>
</ul>
</li>
<li><p>resize</p>
<ul>
<li>重新计算和绘制图表</li>
<li>一般和window对象的resize事件合并使用   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onresize</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    myCharts.<span class="title function_">resize</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>on\off</p>
<ul>
<li>绑定或解绑事件处理函数<ul>
<li>鼠标事件<ul>
<li>常见的事件：click、dbclick、mousedown、mouseover、mouseup等</li>
<li>事件参数arg: 和事件相关的数据信息  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 4、监听鼠标点击事件</span></span><br><span class="line">myCharts.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">arg</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;click....&#x27;</span>, arg);</span><br><span class="line">&#125;);</span><br><span class="line">                    </span><br><span class="line"><span class="comment">// 解绑点击事件</span></span><br><span class="line">myCharts.<span class="title function_">off</span>(<span class="string">&#x27;click&#x27;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>ECharts事件<ul>
<li>常见的事件：legendselectchanged、datazoom、pieselectchanged、mapselectchanged</li>
<li>事件参数arg: 和事件相关的数据信息  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5、监听echarts图例改变事件</span></span><br><span class="line">myCharts.<span class="title function_">on</span>(<span class="string">&#x27;legendselectchanged&#x27;</span>, <span class="keyword">function</span> (<span class="params">arg</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;legendselectchanged....&#x27;</span>, arg);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>dispatchAction</p>
<ul>
<li>触发某些行为</li>
<li>使用代码模拟用户的行为   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 6、绑定按钮点击事件</span></span><br><span class="line">$(<span class="string">&#x27;#btn1&#x27;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 模拟用户的行为： 高亮</span></span><br><span class="line">    myCharts.<span class="title function_">dispatchAction</span>(&#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;highlight&#x27;</span>, <span class="comment">// 事件类型</span></span><br><span class="line">        <span class="attr">seriesIndex</span>: <span class="number">0</span>, <span class="comment">// 图表系列中的索引</span></span><br><span class="line">        <span class="attr">dataIndex</span>: <span class="number">1</span>, <span class="comment">// 图表中数据哪一项高亮</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 展示标记</span></span><br><span class="line">    myCharts.<span class="title function_">dispatchAction</span>(&#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;showTip&#x27;</span>,</span><br><span class="line">        <span class="attr">seriesIndex</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">dataIndex</span>: <span class="number">1</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>clear</p>
<ul>
<li>清空当前实例，会移除实例中所有组件和图表</li>
<li>清空之后可以再次setOption   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 7、清空图表</span></span><br><span class="line">$(<span class="string">&#x27;#btn2&#x27;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 清空图表</span></span><br><span class="line">    myCharts.<span class="title function_">clear</span>();</span><br><span class="line">&#125;);</span><br><span class="line">             </span><br><span class="line"><span class="comment">// 8、重新setOption</span></span><br><span class="line">$(<span class="string">&#x27;#btn3&#x27;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    myCharts.<span class="title function_">setOption</span>(option)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>dispose</p>
<ul>
<li>销毁实例</li>
<li>销毁后实例无法再次被使用  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 9、销毁实例</span></span><br><span class="line">$(<span class="string">&#x27;#btn4&#x27;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"><span class="comment">// 销毁实例</span></span><br><span class="line">myCharts.<span class="title function_">dispose</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
</li>
</ol>
<h3 id="2-电商平台数据可视化实时监控系统"><a href="#2-电商平台数据可视化实时监控系统" class="headerlink" title="2 电商平台数据可视化实时监控系统"></a>2 电商平台数据可视化实时监控系统</h3><ul>
<li>学习步骤<ul>
<li>后台开发</li>
<li>结合Vue开发图表组件</li>
<li>WebSocket实现后台数据推送</li>
<li>主题切换\页面合并\全屏切换…</li>
</ul>
</li>
</ul>
<h4 id="2-1-后台开发-Koa2"><a href="#2-1-后台开发-Koa2" class="headerlink" title="2.1 后台开发 Koa2"></a>2.1 后台开发 Koa2</h4><ol>
<li>Koa2特点<ul>
<li>支持async\await</li>
<li>洋葱模型的中间件</li>
</ul>
</li>
<li>中间件的特点<ul>
<li>Koa对象通过use方法加入一个中间件</li>
<li>一个中间件就是一个函数</li>
<li>中间件的执行顺序符合洋葱模型</li>
<li>内层中间件能否执行取决于外层中间件的next函数是否调用</li>
<li>调用next函数得到的是Promise对象  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">use</span>(<span class="title function_">async</span>(ctx, next) =&gt;&#123;</span><br><span class="line">    <span class="comment">// 刚进入中间件想做的事情</span></span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">next</span>()</span><br><span class="line">    <span class="comment">// 内层所有中间件结束之后想做的事情</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h5 id="2-1-1-Koa2快速上手"><a href="#2-1-1-Koa2快速上手" class="headerlink" title="2.1.1 Koa2快速上手"></a>2.1.1 Koa2快速上手</h5><ol>
<li>检查node的环境<ul>
<li>node -v</li>
</ul>
</li>
<li>安装Koa<ul>
<li>初始化package.json<ul>
<li>npm init -y</li>
</ul>
</li>
<li>安装Koa<ul>
<li>npm install koa –save</li>
</ul>
</li>
</ul>
</li>
<li>创建并编写app.js文件<ol>
<li>创建Koa对象</li>
<li>编写响应函数(中间件)</li>
<li>监听端口</li>
</ol>
</li>
<li>启动服务器<ul>
<li>node app.js  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、引入并创建Koa对象</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Koa</span> = <span class="built_in">require</span>(<span class="string">&#x27;koa&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"><span class="comment">// 2、编写响应函数(中间件)</span></span><br><span class="line"><span class="comment">// ctx: 上下文，web容器， ctx.request   ctx.response</span></span><br><span class="line"><span class="comment">// next: 下一个中间件，下一层中间件是否能够得到执行，取决于next这个函数有没有调用</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">ctx, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(ctx.<span class="property">request</span>.<span class="property">url</span>);</span><br><span class="line">    ctx.<span class="property">response</span>.<span class="property">body</span> = <span class="string">&#x27;hello world&#x27;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 3、绑定端口号发布服务 3000</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h4 id="2-1-2-后台项目目标及步骤"><a href="#2-1-2-后台项目目标及步骤" class="headerlink" title="2.1.2 后台项目目标及步骤"></a>2.1.2 后台项目目标及步骤</h4><ol>
<li>目标<ol>
<li>计算服务器处理请求的总耗时</li>
<li>在响应头上加上相应内容的mime类型</li>
<li>根据URL读取指定目录下的文件内容</li>
</ol>
</li>
<li>步骤<ol>
<li>项目准备<ol>
<li>安装插件<ul>
<li>npm init -y</li>
<li>npm install koa –save</li>
</ul>
</li>
<li>创建文件和目录结构<ul>
<li>app.js  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、引入并创建koa实例对象</span></span><br><span class="line"><span class="keyword">const</span> koa = <span class="built_in">require</span>(<span class="string">&#x27;koa&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title function_">koa</span>();</span><br><span class="line"><span class="comment">// 2、绑定中间件</span></span><br><span class="line"><span class="comment">// 2.1、绑定第一层中间件：计算服务器处理数据总耗时</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">KoaResponseDuration</span> = <span class="built_in">require</span>(<span class="string">&#x27;./middleware/koa_response_duration&#x27;</span>);</span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">KoaResponseDuration</span>);</span><br><span class="line"><span class="comment">// 2.2、绑定第二层中间件 响应头</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">KoaResponseHeader</span> = <span class="built_in">require</span>(<span class="string">&#x27;./middleware/koa_response_header&#x27;</span>);</span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">KoaResponseHeader</span>)</span><br><span class="line"><span class="comment">// 2.3、绑定第三层中间件 响应数据</span></span><br><span class="line"><span class="keyword">const</span> responseData = <span class="built_in">require</span>(<span class="string">&#x27;./middleware/koa_response_data&#x27;</span>);</span><br><span class="line">app.<span class="title function_">use</span>(responseData);</span><br><span class="line"><span class="comment">// 3、绑定端口号</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8888</span>);</span><br></pre></td></tr></table></figure></li>
<li>data/</li>
<li>middleware/<ul>
<li>koa_response_data.js  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> fileUtils = <span class="built_in">require</span>(<span class="string">&#x27;../utils/file_utils&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1、获取请求url /api/seller    ../data/seller.json</span></span><br><span class="line">    <span class="keyword">const</span> reqUrl = ctx.<span class="property">request</span>.<span class="property">url</span>;</span><br><span class="line">    <span class="comment">// 2、拼接url</span></span><br><span class="line">    <span class="keyword">let</span> filePath = reqUrl.<span class="title function_">replace</span>(<span class="string">&#x27;/api&#x27;</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    <span class="comment">// 3、拼接文件绝对目录</span></span><br><span class="line">    filePath = <span class="string">&#x27;../data&#x27;</span> + filePath + <span class="string">&#x27;.json&#x27;</span>;</span><br><span class="line">    filePath = path.<span class="title function_">join</span>(__dirname, filePath);</span><br><span class="line">    <span class="comment">// 4、使用工具类读取数据</span></span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> data = <span class="keyword">await</span> fileUtils.<span class="title function_">getFileJsonData</span>(filePath);</span><br><span class="line">        <span class="comment">// 5、响应给客户端</span></span><br><span class="line">        ctx.<span class="property">response</span>.<span class="property">body</span> = data;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error)&#123;</span><br><span class="line">        <span class="keyword">const</span> errorMsg = &#123;</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&#x27;读取文件内容失败，文件资源部存在！&#x27;</span>,</span><br><span class="line">            <span class="attr">status</span>: <span class="number">404</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 响应</span></span><br><span class="line">        ctx.<span class="property">response</span>.<span class="property">body</span> = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(errorMsg);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 6、放行</span></span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">next</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>koa_response_duration.js  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">async</span> (ctx, next) =&gt;&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1、记录开始时间</span></span><br><span class="line">    <span class="keyword">const</span> startTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">    <span class="comment">// 2、让内层中间件得到执行</span></span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">next</span>()</span><br><span class="line">    <span class="comment">// 3、记录结束时间</span></span><br><span class="line">    <span class="keyword">const</span> endTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">    <span class="comment">// 4、计算时间间隔</span></span><br><span class="line">    <span class="keyword">const</span> durationTime = endTime - startTime;</span><br><span class="line">    <span class="comment">// 5、设置响应头</span></span><br><span class="line">    ctx.<span class="title function_">set</span>(<span class="string">&#x27;X-Response-Time&#x27;</span>, durationTime + <span class="string">&#x27;ms&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>koa_response_header.js  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">async</span> (ctx, next) =&gt;&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> contentType = <span class="string">&#x27;application/json;charset=utf-8&#x27;</span>;</span><br><span class="line">    <span class="comment">// 设置响应头</span></span><br><span class="line">    ctx.<span class="title function_">set</span>(<span class="string">&#x27;Content-Type&#x27;</span>,contentType);</span><br><span class="line">    <span class="comment">// 设置跨域响应头</span></span><br><span class="line">    ctx.<span class="title function_">set</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    ctx.<span class="title function_">set</span>(<span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>, <span class="string">&#x27;OPTIONS,GET,PUT,POST,DELETE&#x27;</span>);</span><br><span class="line">    <span class="comment">// 返回示例数据</span></span><br><span class="line">    <span class="comment">// ctx.response.body = &#x27;&#123;&quot;success&quot;: true&#125;&#x27;;</span></span><br><span class="line">    <span class="comment">// 放行</span></span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">next</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>utils/<ul>
<li>file_utils.js  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">getFileJsonData</span> = <span class="function">(<span class="params">filePath</span>) =&gt;</span>&#123;</span><br><span class="line"><span class="comment">// 根据文件路径读取文件的内容</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">        fs.<span class="title function_">readFile</span>(filePath, <span class="string">&#x27;utf-8&#x27;</span>, <span class="function">(<span class="params">err,data</span>) =&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">            <span class="title function_">reject</span>(err);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">// 读取文件</span></span><br><span class="line">            <span class="title function_">resolve</span>(data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li>总耗时中间件</li>
<li>响应头中间件</li>
<li>业务逻辑中间件<ul>
<li>接口<ol>
<li>商家销量 /api/seller</li>
<li>预算开销 /api/budget</li>
<li>库存信息 /api/stock</li>
<li>销量趋势 /api/trend</li>
<li>商家分布 /api/map</li>
<li>热销商品 /api/hotproduct</li>
</ol>
</li>
</ul>
</li>
<li>允许跨域</li>
</ol>
</li>
</ol>
<h4 id="2-2-前端页面开发"><a href="#2-2-前端页面开发" class="headerlink" title="2.2 前端页面开发"></a>2.2 前端页面开发</h4><h5 id="2-2-1-搭建项目"><a href="#2-2-1-搭建项目" class="headerlink" title="2.2.1 搭建项目"></a>2.2.1 搭建项目</h5><ol>
<li>vue-cli搭建VUE项目</li>
<li>删除无用代码</li>
<li>静态资源的引入</li>
<li>项目的基本配置</li>
<li>全局Echarts对象挂载</li>
<li>axios的封装与挂载</li>
</ol>
<h5 id="2-2-2-单独图表组件开发"><a href="#2-2-2-单独图表组件开发" class="headerlink" title="2.2.2 单独图表组件开发"></a>2.2.2 单独图表组件开发</h5><ol>
<li>商家销售统计(横向柱状图)<ol>
<li>组件结构的设计</li>
<li>布局结构的设计</li>
<li>图表基本功能的实现</li>
<li>UI的调整</li>
<li>拆分图表的option</li>
<li>分辨率适配</li>
</ol>
</li>
<li>销量趋势表(折线图)</li>
<li>商家分布模块(地图+散点图)</li>
<li>销售排行模块(柱状图)</li>
<li>热销商品占比模块(饼图)</li>
<li>库存与销量模块(圆环饼图)</li>
</ol>
<h5 id="2-2-3-Websocket的引入"><a href="#2-2-3-Websocket的引入" class="headerlink" title="2.2.3 Websocket的引入"></a>2.2.3 Websocket的引入</h5><ol>
<li>Websocket后端代码示例<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Websocket相关代码</span></span><br><span class="line"><span class="comment">// 1、引入webSocket</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Websocket</span> = <span class="built_in">require</span>(<span class="string">&#x27;ws&#x27;</span>)</span><br><span class="line"><span class="comment">// 2、创建ws</span></span><br><span class="line"><span class="keyword">const</span> wss = <span class="keyword">new</span> <span class="title class_">Websocket</span>.<span class="title class_">Server</span>(&#123;</span><br><span class="line">    <span class="attr">port</span>: <span class="number">9998</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 3、监听客户端连接事件</span></span><br><span class="line">wss.<span class="title function_">on</span>(<span class="string">&#x27;connection&#x27;</span>, <span class="function"><span class="params">client</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;有客户端连接成功了&#x27;</span>, client);</span><br><span class="line">    <span class="comment">// 3.1、对客户端的连接对象进行message事件的监听</span></span><br><span class="line">    <span class="comment">// msg:由客户端发送给服务端的数据</span></span><br><span class="line">    client.<span class="title function_">on</span>(<span class="string">&#x27;message&#x27;</span>, <span class="function"><span class="params">msg</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;客户端发送数据给服务端了&#x27;</span>, msg);</span><br><span class="line">        <span class="comment">// 3.2、服务端给客户端发送数据</span></span><br><span class="line">        client.<span class="title function_">send</span>(<span class="string">&#x27;hello socket from backend&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li>Websocket前端代码示例<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>WebsocketDemo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;connect&quot;</span>&gt;</span>连接<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;send&quot;</span> <span class="attr">disabled</span>&gt;</span>发送数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">  从服务端接收的数据如下： <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;rev&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">/**</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">       * WebsocketDemo</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">       */</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 0、初始化websocket对象</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> ws = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 1、获取按钮相关对象</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> connectObj = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#connect&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> sendObj = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#send&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> revObj = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#rev&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 2、给连接Dom添加点击事件</span></span></span><br><span class="line"><span class="language-javascript">      connectObj.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 2.1、创建Websocket对象</span></span></span><br><span class="line"><span class="language-javascript">          ws = <span class="keyword">new</span> <span class="title class_">WebSocket</span>(<span class="string">&#x27;ws://localhost:9998&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 2.2、监听连接事件</span></span></span><br><span class="line"><span class="language-javascript">          ws.<span class="property">onopen</span> = <span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;连接服务端成功了。。。&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">              sendObj.<span class="property">disabled</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 2.3、监听关闭事件</span></span></span><br><span class="line"><span class="language-javascript">          ws.<span class="property">onclose</span> = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;连接服务器失败。。。&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">              sendObj.<span class="property">disabled</span> = <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 2.4、监听服务器发送给客户端的数据</span></span></span><br><span class="line"><span class="language-javascript">          ws.<span class="property">onmessage</span> = <span class="function"><span class="params">msg</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;接收到从服务端发送过来的数据了。。&#x27;</span>, msg);</span></span><br><span class="line"><span class="language-javascript">              revObj.<span class="property">innerHTML</span> = msg.<span class="property">data</span></span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 2.5、发送数据给服务端</span></span></span><br><span class="line"><span class="language-javascript">          sendObj.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">              ws.<span class="title function_">send</span>(<span class="string">&#x27;hello socket from frontend&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="2-2-4-websocket数据发送约定"><a href="#2-2-4-websocket数据发送约定" class="headerlink" title="2.2.4 websocket数据发送约定"></a>2.2.4 websocket数据发送约定</h5><ol>
<li>服务端接收数据约定<ol>
<li>action 代表某项行为<ul>
<li>getData<ul>
<li>获取图表数据</li>
</ul>
</li>
<li>fullScreen<ul>
<li>全屏事件</li>
</ul>
</li>
<li>themeChange<ul>
<li>主题切换</li>
</ul>
</li>
</ul>
</li>
<li>socketType 业务模块类型: 前端响应函数的标识<ul>
<li>trendData</li>
<li>sellerData</li>
<li>mapData</li>
<li>rankData</li>
<li>hotData</li>
<li>stockData</li>
<li>fullScreen</li>
<li>themeChange</li>
</ul>
</li>
<li>chartName 图表的名称<ul>
<li>trend</li>
<li>seller</li>
<li>map</li>
<li>rank</li>
<li>hot</li>
<li>stock</li>
<li>注意：如果是主题切换，可不传此值</li>
</ul>
</li>
<li>value 具体的数据<ul>
<li>全屏事件<ul>
<li>true 全屏</li>
<li>false 非全屏</li>
</ul>
</li>
<li>主题切换<ul>
<li>chalk</li>
<li>vintage</li>
</ul>
</li>
</ul>
</li>
<li>示例 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">action</span>: <span class="string">&#x27;getData&#x27;</span>,</span><br><span class="line">    <span class="attr">socketType</span>: <span class="string">&#x27;trendData&#x27;</span>,</span><br><span class="line">    <span class="attr">chartName</span>: <span class="string">&#x27;trend&#x27;</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li>服务端发送数据约定<ol>
<li>接收到的action === ‘getData’<ol>
<li>取出数据中chartName字段</li>
<li>拼接json文件的路径</li>
<li>读取该文件的内容</li>
<li>在接收数据的基础上增加data字段，赋值</li>
<li>示例  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">action</span>: <span class="string">&#x27;getData&#x27;</span>,</span><br><span class="line">    <span class="attr">socketType</span>: <span class="string">&#x27;trendData&#x27;</span>,</span><br><span class="line">    <span class="attr">chartName</span>: <span class="string">&#x27;trend&#x27;</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: <span class="string">&#x27;从文件中读取的JSON数据&#x27;</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li>接收到的action !== ‘getData’<ul>
<li>原封不动的将从客户端接收到的数据，转发个每一个处于连续状态的客户端</li>
</ul>
</li>
</ol>
</li>
</ol>
<h5 id="2-2-5-细节处理"><a href="#2-2-5-细节处理" class="headerlink" title="2.2.5 细节处理"></a>2.2.5 细节处理</h5><p>  ……</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/10/22/%E9%BB%91%E9%A9%AC%E5%8F%AF%E8%A7%86%E5%8C%96%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/" data-id="cl9kpr9jd0002kcvh463x920a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/echarts-nodejs-Koa2/" rel="tag">echarts nodejs Koa2</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-我的第一篇博客文章" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/10/22/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/" class="article-date">
  <time datetime="2022-10-22T06:14:34.000Z" itemprop="datePublished">2022-10-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/22/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">我的第一篇博客文章</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="hello-hexo"><a href="#hello-hexo" class="headerlink" title="hello hexo"></a>hello hexo</h2><h3 id="常用指令"><a href="#常用指令" class="headerlink" title="常用指令"></a>常用指令</h3><ol>
<li>全局安装hexo<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure></li>
<li>初始化项目 （文件夹无任何内容）<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure></li>
<li>启动项目<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure></li>
<li>移除打包后的文件<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">hexo</span> <span class="string">clean</span></span><br></pre></td></tr></table></figure></li>
<li>打包项目<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure></li>
<li>推送项目<ol>
<li>配置推送信息: 在 _config.yml内容中配置<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">    <span class="attr">repo:</span> <span class="string">仓库地址</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure></li>
<li>安装推送插件 <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">cnpm</span> <span class="string">install</span> <span class="string">--save</span> <span class="string">hexo-deployer-git</span></span><br></pre></td></tr></table></figure></li>
<li>执行推送命令 <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">hexo</span> <span class="string">d</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li>创建一篇新博客<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">hexo</span> <span class="string">n</span> <span class="string">&quot;文章名称&quot;</span></span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/10/22/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/" data-id="cl9kpr9iu0001kcvh93kl5ygo" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/10/22/hello-world/" class="article-date">
  <time datetime="2022-10-22T03:12:04.378Z" itemprop="datePublished">2022-10-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/22/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/10/22/hello-world/" data-id="cl9kpr9io0000kcvh4whq5ei7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/echarts-nodejs-Koa2/" rel="tag">echarts nodejs Koa2</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/echarts-nodejs-Koa2/" style="font-size: 10px;">echarts nodejs Koa2</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">十月 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/10/22/%E9%BB%91%E9%A9%AC%E5%8F%AF%E8%A7%86%E5%8C%96%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/">黑马可视化项目学习笔记</a>
          </li>
        
          <li>
            <a href="/2022/10/22/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">我的第一篇博客文章</a>
          </li>
        
          <li>
            <a href="/2022/10/22/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Xiol<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>